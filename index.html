<!DOCTYPE html>
<html>
<head>
    <title>AppLink 테스트</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript">
        window.onload = function() {
            // 딥 링크 설정
            var appLink = "https://dhdheb.github.io";
            var androidStoreLink = "https://play.google.com/store/apps/details?id=com.example.yemi";
            var iosStoreLink = "https://apps.apple.com/app/id0000000000";

            var isAndroid = /android/i.test(navigator.userAgent);
            var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;

            if (isAndroid || isIOS) {
                // 앱 실행 시도
                location.href = appLink;

                // 1500ms 이후 앱 실행이 실패한 경우 스토어로 리디렉션
                setTimeout(function() {
                    if (isAndroid) {
                        location.href = androidStoreLink;
                    } else if (isIOS) {
                        location.href = iosStoreLink;
                    }
                }, 1500);
            }

            // 브라우저에서 열기 버튼 클릭 이벤트
            document.getElementById("openInBrowser").onclick = function() {
                window.open(appLink, "_blank");
            };
        };
    </script>
</head>
<body>
    <h1>AppLink 테스트</h1>
    <p>앱이 설치된 경우 실행되고, 없으면 스토어로 이동합니다.</p>
    <button id="openInBrowser" style="margin-top: 20px; padding: 10px 20px; font-size: 16px;">
        브라우저에서 열기
    </button>
</body>
</html>
