<!DOCTYPE html>
<html>
<head>
    <title>AppLink 테스트</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript">
        window.onload = function() {
            // 딥 링크 설정
            var appLink = "https://dhdheb.github.io";
            var androidStoreLink = "https://play.google.com/store/apps/details?id=com.example.yemi";
            var iosStoreLink = "https://apps.apple.com/app/id0000000000";

            var isAndroid = /android/i.test(navigator.userAgent);
            var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;

            if (isAndroid || isIOS) {
                // 앱 실행 시도
                location.href = appLink;

                // 1500ms 이후 앱 실행이 실패한 경우
                setTimeout(function() {
                    // 앱 실행 실패 시 메시지와 버튼 표시
                    document.getElementById("message").style.display = "block";
                    document.getElementById("openInBrowser").style.display = "inline-block";
                }, 1500);
            }

            // 브라우저에서 열기 버튼 클릭 이벤트
            document.getElementById("openInBrowser").onclick = function() {
                window.open(appLink, "_blank");
            };
        };
    </script>
</head>
<body>
    <h1>AppLink</h1>
<!-- 앱 실행 실패 시 보여줄 메시지 -->
    <p id="message" style="display: none; color: red;">
        앱 실행이 안되시나요? <br> "브라우저에서 열기" 버튼을 클릭해 주세요.
    </p>

<!-- 브라우저에서 열기 버튼 -->
    <button id="openInBrowser" style="display: none; margin-top: 20px; padding: 10px 20px; font-size: 16px;">
        브라우저에서 열기
    </button>
</body>
</html>
